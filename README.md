# Submarine Mine Game

> 자바 소켓 통신 기반 2인용 지뢰찾기 게임

## 📌 프로젝트 개요

이 프로젝트는 Java 기반의 GUI와 소켓 통신을 활용하여 2명의 사용자가 실시간으로 플레이할 수 있는 지뢰찾기 게임입니다.  
플레이어는 차례로 지뢰가 숨겨진 위치를 추측하며, 먼저 3개의 지뢰를 찾는 사람이 승리하게 됩니다.

---

## 🧩 주요 기능

- 실시간 소켓 통신을 이용한 양방향 플레이
- 자바 GUI (Swing)를 활용한 버튼 기반 게임 화면
- 각 턴마다 서버가 좌표 처리 및 상태 업데이트
- 지뢰를 찾으면 시각적으로 표시되고 성공 횟수 갱신
- 게임 종료 시 승자 메시지 출력 및 소켓 종료

---

## 🧪 실행 방법

### 🔧 사전 준비

- Java 11 이상 설치
- 포트번호 (기본: 5000) 허용 상태

### 🖥️ 실행 순서

1. **서버 실행**
   ```bash
   javac SubmarineServer.java
   java SubmarineServer


2. **클라이언트 실행 (2명 이상)**

   ```bash
   javac SubmarineClient.java
   java SubmarineClient
   ```

### 📍 게임 규칙

* 각 플레이어는 차례대로 버튼을 클릭하여 지뢰를 찾습니다.
* 지뢰 3개를 먼저 찾는 플레이어가 승리합니다.
* 매 턴 서버가 `"finish"` 메시지를 보내 턴 전환을 알려줍니다.

---
### 🖼️ 실제 실행 화면

#### 1. 서버 및 클라이언트 초기 실행 화면

처음 서버와 두 명의 클라이언트가 모두 실행되면 아래와 같이 각 클라이언트 창에 버튼이 배치된 지뢰찾기 게임 UI가 표시됩니다.  
서버는 클라이언트의 연결을 기다리고, 연결이 완료되면 게임을 시작하라는 안내 메시지를 클라이언트에 전송합니다.

![image](https://github.com/user-attachments/assets/6557db84-127a-4317-980e-e0e79d29285f)

---

#### 2. 게임 진행 중 화면

플레이어는 자신의 턴이 되었을 때만 버튼을 클릭하여 지뢰를 찾을 수 있습니다.  
한 명의 클라이언트가 턴을 끝내면 다른 클라이언트가 선택을 마칠 때까지 대기해야 하며, 게임은 번갈아가며 진행됩니다.  
회색은 빈칸, 빨간색은 지뢰가 있는 위치를 나타냅니다.

![image](https://github.com/user-attachments/assets/160c407b-b5f0-4afb-9cc8-a38c42b21dff)

---

#### 3. 게임 종료 화면

한 플레이어가 지뢰 3개를 먼저 찾으면 게임이 종료되고, 모든 버튼이 비활성화됩니다.  
화면에는 승리 메시지와 함께 `"게임이 끝났습니다. '우승자이름' 승"` 안내 문구가 표시되며, 이후에는 클릭이 불가능합니다.  
서버는 모든 클라이언트에 종료 메시지를 전송하고 소켓을 닫습니다.

![image](https://github.com/user-attachments/assets/e6925466-a5e3-404f-bc08-520a6c0406cf)





## 🔍 주요 클래스 및 메소드 설명

### 🧠 `SubmarineClient`

* **생성자**

  * 사용자 이름을 입력받아 저장
  * JFrame을 생성하고 버튼과 상태 표시 라벨을 구성
  * 버튼 클릭 시 `guess()` 메소드 호출

* **`guess(x, y)`**

  * 버튼 클릭 시 실행
  * 좌표를 서버로 전송하고 응답을 받아 버튼 상태를 업데이트
  * 응답 값에 따라 배경색, 아이콘, 텍스트 등을 설정

* **`startClient()`**

  * 별도의 스레드로 서버와의 통신 유지
  * 서버 메시지에 따라 게임 상태를 갱신하고 턴을 관리

---

### 🧠 `SubmarineServer`

* **`createServer()`**

  * 서버 시작 및 클라이언트 연결 대기
  * 2명의 클라이언트가 연결되면 게임 시작

* **게임 루프 (while)**

  * 모든 플레이어가 턴을 마치면 선택한 좌표를 확인
  * 지뢰일 경우 성공 횟수 증가 및 메시지 전송
  * 3개의 지뢰를 먼저 찾은 플레이어가 승리
  * 게임 종료 시 `"Game Over"` 메시지와 승자 공지 전송


---

## 👥 팀원

* 곽나영
* 정지윤
* 정호진

---

## 📝 참고 사항

* 클라이언트와 서버는 동일 네트워크 또는 포트포워딩 된 환경에서 실행되어야 합니다.
* GUI는 Java Swing으로 구성되어 있어 직관적인 플레이가 가능합니다.
* 게임 종료 시 자동으로 모든 버튼이 비활성화되며, 소켓도 안전하게 종료됩니다.

